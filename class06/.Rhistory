grade <- function(table){
apply(table, 1, grade)
}
for (scores in list(student1, student2, student3)) {
print(grade_student(scores))
}
grade_student <- function(scores){
# check for NA
na_count <- sum(is.na(scores))
# if no NA, drop lowest
if (sum(is.na(scores)) == 0) {
top_scores = scores[scores != min(scores)]
}
# if one NA, drop it
else if (na_count == 1) {
top_scores = scores[!is.na(scores)]
}
# if multiple NA, drop first
else {
top_scores = scores[-(which(is.na(scores))[1])]
}
# set remaining NAs to 0
top_scores[is.na(top_scores)] = 0
# compute mean score
overall_grade = mean(top_scores)
return(overall_grade)
}
# create wrapper function for table
grade <- function(table){
apply(table[, sapply(table, is.numeric)], 1, grade)
}
# score each
overall_grade <- grade(table)
grade_student <- function(scores){
# check for NA
na_count <- sum(is.na(scores))
# if no NA, drop lowest
if (sum(is.na(scores)) == 0) {
top_scores = scores[scores != min(scores)]
}
# if one NA, drop it
else if (na_count == 1) {
top_scores = scores[!is.na(scores)]
}
# if multiple NA, drop first
else {
top_scores = scores[-(which(is.na(scores))[1])]
}
# set remaining NAs to 0
top_scores[is.na(top_scores)] = 0
# compute mean score
overall_grade = mean(top_scores)
return(overall_grade)
}
# create wrapper function for table
grade <- function(table){
apply(table[, sapply(table, is.numeric)], 1, grade_student)
}
# score each
overall_grade <- grade(table)
which.max(overall_grade)
# score each
overall_grade <- grade(table)
# score each
overall_grade <- grade(table)
which.max(overall_grade)
numeric_df <- df[, sapply(df, is.numeric)]
colMeans(table, na.rm = TRUE)
colMeans(table, na.rm = TRUE)
average_score <- colMeans(table, na.rm = TRUE)
which.min(average_score)
correlations <- sapply(df[, -ncol(df)], function(x) cor(x, df$Overall_Grade, use = "complete.obs"))
correlations <- sapply(df[, -ncol(df)], function(x) cor(x, df$Overall_Grade, use = "complete.obs"))
# average each column and calc min
average_score
# average each column and calc min
overall_grade
# correlate each
for (i in 1:ncol(df)) {
print(cor(df[,i], overall_grade))
}
# correlate each
for (i in 1:ncol(table)) {
print(cor(table[,i], overall_grade))
}
# define scoring funcs
grade_student <- function(scores){
# check for NA
na_count <- sum(is.na(scores))
# if no NA, drop lowest
if (sum(is.na(scores)) == 0) {
top_scores = scores[scores != min(scores)]
}
# if one NA, drop it
else if (na_count == 1) {
top_scores = scores[!is.na(scores)]
}
# if multiple NA, drop first
else {
top_scores = scores[-(which(is.na(scores))[1])]
}
# set remaining NAs to 0
top_scores[is.na(top_scores)] <- 0
# compute mean score
overall_grade = mean(top_scores)
return(overall_grade)
}
# create wrapper function for table
grade <- function(table){
apply(table[, sapply(table, is.numeric)], 1, grade_student)
}
# score each
for (scores in list(student1, student2, student3)) {
print(grade_student(scores))
}
# import data
table <- read.csv("C:/Users/micha/Downloads/student_homework.csv", row.names = 1)
table
# score each
overall_grade <- grade(table)
which.max(overall_grade)
# correlate each
# set NAs to 0
table_clean <- table
table_clean[is.na(table_clean)] <- 0
for (i in 1:ncol(table_clean)) {
print(cor(table_clean[,i], overall_grade))
}
# correlate each
# set NAs to 0
table_clean <- table
table_clean[is.na(table_clean)] <- 0
corrs = NULL
for (i in 1:ncol(table_clean)) {
corrs = c(corrs, cor(table_clean[,i], overall_grade))
}
which.max(corrs)
# (A. Can you improve this analysis code?
df <- data.frame(a=1:10, b=seq(200,400,length=10),c=11:20,d=NA)
df.head()
df <- data.frame(a=1:10, b=seq(200,400,length=10),c=11:20,d=NA)
df
norm_col <- function(column){
df&column <- (df$column - min(df$column)) / (max(df$column) - min(df$column))
}
for (i in c("a","b","c")){
norm_col(i)
}
norm_col <- function(column){
df$column <- (df$column - min(df$column)) / (max(df$column) - min(df$column))
}
for (i in c("a","b","c")){
norm_col(i)
}
norm_col <- function(column){
df[[column]] <- (df[[column]] - min(df[[column]])) / (max(df[[column]]) - min(df[[column]]))
}
for (i in c("a","b","c")){
norm_col(i)
}
norm_col <- function(column){
df[[column]] <- (df[[column]] - min(df[[column]])) / (max(df[[column]]) - min(df[[column]]))
}
for (i in c("a","b","c")){
norm_col(i)
}
df
norm_col <- function(df, column){
df[[column]] <- (df[[column]] - min(df[[column]])) / (max(df[[column]]) - min(df[[column]]))
return(df)
}
for (i in c("a","b","c")){
df = norm_col(df, i)
}
df
norm <- function(data){
nord_data <- (x - min(x)) / (max(x) - min(x))
return(nord_data)
}
for (i in c("a","b","c")){
df = norm_col(df, i)
}
df
norm <- function(data){
nord_data <- (x - min(x)) / (max(x) - min(x))
return(nord_data)
}
df[] <- lapply(df, normalize)
norm <- function(data){
nord_data <- (x - min(x)) / (max(x) - min(x))
return(nord_data)
}
df[] <- lapply(df, norm)
norm <- function(data){
nord_data <- (data - min(data)) / (max(data) - min(data))
return(nord_data)
}
df[] <- lapply(df, norm)
df <- data.frame(a=1:10, b=seq(200,400,length=10),c=11:20,d=NA)
df
norm <- function(data){
nord_data <- (data - min(data)) / (max(data) - min(data))
return(nord_data)
}
df_norm <- lapply(df, norm)
df_norm
norm <- function(data){
nord_data <- (data - min(data)) / (max(data) - min(data))
return(nord_data)
}
df_norm[] <- lapply(df, norm)
df_norm
norm <- function(data){
nord_data <- (data - min(data)) / (max(data) - min(data))
return(nord_data)
}
df[] <- lapply(df, norm)
df
# install the bio3d package
install.packages("bio3d")
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
a.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
for pdb_name in c("4AKE", "1AKE", "1E4Y")
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
a.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
for pdb_name in c("4AKE", "1AKE", "1E4Y"){
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
a.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
for pdb_name in c("4AKE", "1AKE", "1E4Y"){
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
a.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
run_analysis(pdb_name)
}
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
run_analysis(pdb_name)
}
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
s <- read.pdb("4AKE")
s <- read.pdb("4AKE")
s
View(s)
View(s)
s <- read.pdb("4AKE")
type(s)
s <- read.pdb("4AKE")
class(s)
s <- read.pdb("4AKE")
typeof(s)
?trim.pdb()
plotb3?
?plotb3
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, typ="l", ylab="Bfactor")
}
for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
run_analysis(pdb_name)
}
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
run_analysis(pdb_name)
}
?trim.pdb()
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
}
#for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
#  run_analysis(pdb_name)
#}
s1 = run_analysis("4AKE")
s2 = run_analysis("1AKE")
s3 = run_analysis("1E4Y")
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
return(s)
}
#for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
#  run_analysis(pdb_name)
#}
s1 = run_analysis("4AKE")
s2 = run_analysis("1AKE")
s3 = run_analysis("1E4Y")
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
s1
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
s.b
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
return(s)
}
#for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
#  run_analysis(pdb_name)
#}
s1 = run_analysis("4AKE")
s2 = run_analysis("1AKE")
s3 = run_analysis("1E4Y")
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
return(s)
}
#for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
#  run_analysis(pdb_name)
#}
s1 <- run_analysis("4AKE")
s2 <- run_analysis("1AKE")
s3 <- run_analysis("1E4Y")
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
s1
s1.b
# Can you improve this analysis code?
library(bio3d)
run_analysis <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
plotb3(s.b, sse=s.chainA, typ="l", ylab="Bfactor")
return(s.b)
}
#for (pdb_name in c("4AKE", "1AKE", "1E4Y")){
#  run_analysis(pdb_name)
#}
s1.b <- run_analysis("4AKE")
s2.b <- run_analysis("1AKE")
s3.b <- run_analysis("1E4Y")
hc <- hclust( dist( rbind(s1.b, s2.b, s3.b) ) )
plot(hc)
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
return(results)
hc <- hclust(dist(rbind(results)))
plot(hc)
}
get_data <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
return(s.b)
}
pdb_names = c("4AKE", "1AKE", "1E4Y")
run_analysis(pdb_names)
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
hc <- hclust(dist(rbind(results)))
plot(hc)
return(results)
}
get_data <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
return(s.b)
}
pdb_names = c("4AKE", "1AKE", "1E4Y")
run_analysis(pdb_names)
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
hc <- hclust(dist(rbind(results[[1]], results[[2]], results[[3]])))
plot(hc)
return(results)
}
get_data <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
return(s.b)
}
pdb_names = c("4AKE", "1AKE", "1E4Y")
run_analysis(pdb_names)
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
hc <- hclust(dist(rbind(results[[1]], results[[2]], results[[3]])))
plot(hc)
}
get_data <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
return(s.b)
}
pdb_names = c("4AKE", "1AKE", "1E4Y")
run_analysis(pdb_names)
# libraries
library(bio3d)
# load each protein data and plot dendrogram
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
hc <- hclust(dist(rbind((do.call(rbind, results))))
plot(hc)
# libraries
library(bio3d)
# load each protein data and plot dendrogram
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
hc <- hclust(dist(rbind(do.call(rbind, results)))
plot(hc)
# libraries
library(bio3d)
# load each protein data and plot dendrogram
run_analysis <- function(pdb_names){
results = NULL
for (pdb_name in pdb_names){
res = get_data(pdb_name)
results[[pdb_name]] = res
}
hc <- hclust(dist(do.call(rbind, results)))
plot(hc)
}
# load protein data
get_data <- function(pdb_name){
s <- read.pdb(pdb_name)
s.chainA <- trim.pdb(s, chain="A", elety="CA")
s.b <- s.chainA$atom$b
return(s.b)
}
pdb_names = c("4AKE", "1AKE", "1E4Y")
run_analysis(pdb_names)
pdb_names = c("4AKE", "1AKE", "1E4Y", "2ECK")
run_analysis(pdb_names)
